<% content_for :breadcrumb do %>
<div class="page-header pull-left">
  <div class="page-title">Add Credits</div>
</div>
<ol class="breadcrumb page-breadcrumb pull-right">
  <li><i class="fa fa-home"></i>&nbsp;<a href="/">Home</a>&nbsp;&nbsp;<i class="fa fa-angle-right"></i>&nbsp;&nbsp;</li>
  <li><a href="/credits">Credits</a>&nbsp;&nbsp;<i class="fa fa-angle-right"></i>&nbsp;&nbsp;</li>
  <li class="active">Add Credits</li>
</ol>
<%end%>

<% content_for :main_body do %>
<div class="container mt-5">
  <div class="row justify-content-center">
    <div class="col-md-6">
      <div class="card">
        <div class="card-header bg-primary text-white">
          <h5 class="mb-0">Purchase Advertising Credits</h5>
        </div>
        <div class="card-body">
          <div class="alert alert-info">
            <i class="fa fa-info-circle"></i>
            Credits are used to run your advertising campaigns. Minimum deposit is <strong>$<%= '%.2f' % @min_deposit %></strong>.
            Campaigns require a minimum daily budget of <strong>$<%= '%.2f' % User::MIN_DAILY_BUDGET %></strong>.
          </div>

          <%= form_with url: credits_path, method: :post, local: true do |f| %>
            <div class="form-group">
              <label for="amount">Amount (USD)</label>
              <div class="input-group">
                <div class="input-group-prepend">
                  <span class="input-group-text">$</span>
                </div>
                <%= text_field_tag :amount, '',
                    class: 'form-control',
                    placeholder: "Minimum #{'%.2f' % @min_deposit}",
                    min: @min_deposit,
                    step: '0.01',
                    required: true,
                    type: 'number' %>
              </div>
              <small class="form-text text-muted">
                Enter the amount you want to add to your account (1:1 ratio: $1 = 1 credit)
              </small>
            </div>

            <div class="mt-4">
              <h6>Quick Amounts:</h6>
              <div class="btn-group btn-group-sm" role="group">
                <button type="button" class="btn btn-outline-secondary" onclick="document.getElementById('amount').value='25'">$25</button>
                <button type="button" class="btn btn-outline-secondary" onclick="document.getElementById('amount').value='50'">$50</button>
                <button type="button" class="btn btn-outline-secondary" onclick="document.getElementById('amount').value='100'">$100</button>
                <button type="button" class="btn btn-outline-secondary" onclick="document.getElementById('amount').value='250'">$250</button>
                <button type="button" class="btn btn-outline-secondary" onclick="document.getElementById('amount').value='500'">$500</button>
              </div>
            </div>

            <div class="mt-4">
              <%= f.submit 'Purchase Credits', class: 'btn btn-primary btn-block' %>
              <%= link_to 'Cancel', credits_path, class: 'btn btn-secondary btn-block' %>
            </div>
          <% end %>

          <div class="mt-3">
            <small class="text-muted">
              <i class="fa fa-lock"></i> Secure payment processing by Stripe
            </small>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<%end%>
